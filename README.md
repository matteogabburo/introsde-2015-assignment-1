# introsde-2015-assignment-1
Contains assignment1 for introsde course

## Code
The project is initially composed by two main folders :

* src
* res

After ran "ant.compile", that will be generated other three folders

* ivy
* build
* lib

### src/
Src directory contains the java code of the project.
I choose to make one main class for each evaluation steps, but theese files only call function that are written in a 
function class.
For any evaluation step the main classes are stored in package "assignment/evaluation" whereas the function class is
stored in "assignment" package.
After launch of "ant compile" (or "ant generate") will be generate one directory in "src/" called "generated". It 
contains all the files generated by "JAXB".


**initial contents of the folder**

* assignment/
  * evaluation/
      * Evaluation1_Assignment1SDE.java
      * Evaluation2_Assignment1SDE.java
      * Evaluation3_Assignment1SDE.java
      * Evaluation4_Assignment1SDE.java
      * Evaluation5_Assignment1SDE.java
      * Evaluation6_Assignment1SDE.java
      * functions/
        * Assignment1SDE_functions.java

**files added after ran of "ant execute.evalutation"**

* assignment/
  * generated/
    * Healhprofile.java
    * ObjectFactory.java
    * People.java
    * Person.java


### res/
Res directory contains .xml and .xsd that the project uses for evaluation steps and their generated output (like JSon on 
evaluation step 6). 
In particular I choose to make two HealthProfile.xml files because steps 1, 2, 3 and 5 only read from files, but
evaluation step 4 write on it.

*initial contents of the folder*

* HealthProfile_ev1235.xml
* HealthProfile_ev4.xml
* HealthProfile.xsd

*files added after ran of ant execute.evalutation*

* HealthProfile_ev6.json

### build/
Build folder is generated by "ant generated" and contains all the .class run by "ant execute.evaluation".

### ivy/
Ivy folder is generated by "ant install-ivy" and contains ivy.

### lib/
Lib folder is generated by "ivy" and contains all the libraries used during the compilation of the code in a project.
All the dependecies are defined in "ivy.xml".

## What code does

All the important functions of the project are stored in "src/assignment/functions/Assignment1SDE_functions.java".
Now I'm going to explain what every single function does.

##### private String parseId(int id)
Take an int for parameter, work with it and return it in String form for xpath. I give to you an example: if id is 8
parseId() returns "0008". I decide to do this private function because id field in my .xml file is a String type, and
without this function we might have problem with xpath.

##### public void loadXML(String xml_name)
I have taken this function from lab4 sources. I've just modified it a bit to store the name of .xml file in a class 
attribute.

##### public void loadXSD(String xsd_name)
This function taken .xsd name and store it in a class attributes.

##### public XPath getXPathObj()
I have taken this function form lab4 sources

##### public float getHeight(int id)
This is the function based on lab3 that return the float value that represent height from the person who have that id

##### public int getWeight(int id) throws XPathExpressionException**
Very similiar to getHeight but this return an int that represent the weight

##### public void printPeopleWithDetails()
This function doesn't return anything, but it print the attributes of all the "Person Nodes" that .xml contains. For
do this it use an xpath expression that return the list of the people and later with a for cycle print the attributes.

##### public NodeList getHealthProfile(int id)
Return people with id equal to parameter id.

##### public void printIfWeight(String operator, int weight)
This function print person than meet the requirement of parameters.

##### public List<Person> unMarshall()
This function take the class attribute who identify the file .xml, open the file and with JAXB methods mapping it 
and returns the contents.

##### public void marshall(List<Person> newPerson)
Take a list of Person and insert the contents of that list in the .xml file specified in attributes.
**IMPORTANT :** this function add to .xml file the content of a person list. If .xml already contains Person element 
the function not remove them, it just append the new people.

##### public String marshallJSon(List<Person> personList, String jSonFileName)
It is very similiar to unMarshall() function in the concept, the difference is that it works with "Jackson" libraries 
and it create new JSon file in res/ directory.

## How to run
1) Download and install ant
2) Put the assignment file in a directory
3) Go to directory
4) Run by shell following commands: 
* ant clean
* ant exec.evaluation (OR and exec.evaluation > output.txt if you want to see the evaluation results in a text file)
